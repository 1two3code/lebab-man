{"version":3,"sources":["pacman/Inky.ts"],"names":["pacman","pacman.Inky","pacman.Inky.constructor","pacman.Inky.reset","pacman.Inky.updatePositionChasingPacman"],"mappings":";;;;;AAAA,IAAO,MAAM,CAwFZ;AAxFD,WAAO,MAAM,EAAC,CAAC;IACbA,YAAYA,CAACA;IAEbA;;;OAGGA;IACFA;QAA0BC,wBAAKA;QAE/BA;;WAEGA;QACHA,cAAYA,IAAgBA;YAC3BC,kBAAMA,IAAIA,EAAEA,CAACA,GAAGA,iBAAUA,CAACA,WAAWA,EAAEA,CAACA,CAACA,CAACA;QAC5CA,CAACA;QAEDD,oBAAKA,GAALA;YACCE,gBAAKA,CAACA,KAAKA,WAAEA,CAACA;YACdA,IAAIA,CAACA,SAASA,GAAGA,gBAASA,CAACA,KAAKA,CAACA;YACjCA,IAAIA,CAACA,WAAWA,CAACA,EAAEA,GAAGA,iBAAUA,CAACA,SAASA,GAAGA,iBAAUA,CAACA,SAASA,GAAGA,CAACA,GAAGA,CAACA,EACrEA,EAAEA,GAAGA,iBAAUA,CAACA,SAASA,GAAGA,iBAAUA,CAACA,SAASA,GAAGA,CAACA,CAACA,CAACA;YAC1DA,IAAIA,CAACA,WAAWA,GAAGA,kBAAWA,CAACA,MAAMA,CAACA;QACvCA,CAACA;QAEAF,0CAA2BA,GAA3BA,UAA4BA,IAAUA;YAEtCG,IAAIA,UAAUA,GAAWA,IAAIA,CAACA,UAAUA,CAACA;YAEzCA,EAAEA,CAACA,CAACA,IAAIA,CAACA,cAAcA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;gBAE5BA,yBAAyBA;gBACzBA,IAAIA,GAAGA,GAAWA,IAAIA,CAACA,GAAGA,CAACA;gBAC3BA,IAAIA,GAAGA,GAAWA,IAAIA,CAACA,MAAMA,CAACA;gBAC9BA,IAAIA,MAAMA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA;gBAC9BA,IAAIA,SAASA,GAAWA,MAAMA,CAACA,GAAGA,CAACA;gBACnCA,IAAIA,SAASA,GAAWA,MAAMA,CAACA,MAAMA,CAACA;gBACtCA,IAAIA,MAAMA,GAAWA,CAACA,SAASA,GAAGA,GAAGA,CAACA,GAAGA,CAACA,SAASA,GAAGA,GAAGA,CAACA;oBACtDA,CAACA,SAASA,GAAGA,GAAGA,CAACA,GAAGA,CAACA,SAASA,GAAGA,GAAGA,CAACA,CAACA;gBAC7CA,sBAAsBA;gBAEtBA,iDAAiDA;gBACjDA,EAAEA,CAACA,CAACA,MAAMA,IAAIA,EAAEA,CAACA,CAACA,CAACA;oBAClBA,IAAIA,KAAKA,GAAWA,IAAIA,CAACA,MAAMA,CAACA,GAAGA,CAACA;oBACpCA,IAAIA,KAAKA,GAAWA,IAAIA,CAACA,MAAMA,CAACA,MAAMA,CAACA;oBACnCA,IAAIA,IAAIA,GAAaA,IAAIA,CAACA,mBAAmBA,CAACA,GAAGA,EAACA,GAAGA,EAAEA,KAAKA,EAACA,KAAKA,CAACA,CAACA;oBACxEA,4DAA4DA;oBAC5DA,EAAEA,CAACA,CAACA,IAAIA,IAAIA,IAAIA,CAACA,CAACA,CAACA;wBAClBA,IAAIA,CAACA,uBAAuBA,CAACA,IAAIA,CAACA,CAACA;oBACpCA,CAACA;oBACDA,IAAIA,CAACA,EAAEA,CAACA,CAACA,IAAIA,CAACA,GAAGA,GAACA,GAAGA,CAACA,CAACA,CAACA;wBAClBA,IAAIA,CAACA,SAASA,GAAGA,gBAASA,CAACA,IAAIA,CAACA;wBACrCA,IAAIA,CAACA,IAAIA,CAACA,CAACA,UAAUA,CAACA,CAACA;oBACxBA,CAACA;oBACDA,IAAIA,CAACA,EAAEA,CAACA,CAACA,IAAIA,CAACA,GAAGA,GAACA,GAAGA,CAACA,CAACA,CAACA;wBAClBA,IAAIA,CAACA,SAASA,GAAGA,gBAASA,CAACA,IAAIA,CAACA;wBACrCA,IAAIA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA;oBACvBA,CAACA;oBACDA,IAAIA,CAACA,EAAEA,CAACA,CAACA,IAAIA,CAACA,GAAGA,GAACA,GAAGA,CAACA,CAACA,CAACA;wBAClBA,IAAIA,CAACA,SAASA,GAAGA,gBAASA,CAACA,KAAKA,CAACA;wBACtCA,IAAIA,CAACA,IAAIA,CAACA,CAACA,UAAUA,CAACA,CAACA;oBACxBA,CAACA;oBACDA,IAAIA,CAACA,EAAEA,CAACA,CAACA,IAAIA,CAACA,GAAGA,GAACA,GAAGA,CAACA,CAACA,CAACA;wBAClBA,IAAIA,CAACA,SAASA,GAAGA,gBAASA,CAACA,KAAKA,CAACA;wBACtCA,IAAIA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA;oBACvBA,CAACA;gBACFA,CAACA;gBAGDA,IAAIA,CAACA,CAACA;oBACLA,IAAIA,CAACA,uBAAuBA,CAACA,IAAIA,CAACA,CAACA;gBACpCA,CAACA;YAEFA,CAACA;YAIDA,IAAIA,CAACA,CAACA;gBACLA,IAAIA,CAACA,0BAA0BA,CAACA,UAAUA,CAACA,CAACA;YAC7CA,CAACA;YAEDA,qDAAqDA;YACrDA,EAAEA,CAACA,CAACA,IAAIA,CAACA,QAAQA,IAAIA,IAAIA,CAACA,mBAAmBA,CAACA,CAACA,CAACA;gBAC5CA,IAAIA,CAACA,WAAWA,GAAGA,kBAAWA,CAACA,UAAUA,CAACA;YAC9CA,CAACA;QAEFA,CAACA;QAEFH,WAACA;IAADA,CAhFCD,AAgFAC,EAhF0BD,YAAKA,EAgF/BA;IAhFaA,WAAIA,OAgFjBA,CAAAA;AACHA,CAACA,EAxFM,MAAM,KAAN,MAAM,QAwFZ","file":"pacman/Inky.js","sourcesContent":["module pacman {\r\n  'use strict';\r\n\r\n  /**\r\n   * Inky, the blue ghost.  Inky is \"bashful\" and only changes after Pacman if\r\n   * Blinky (the reg ghost) is close by.\r\n   */\r\n   export class Inky extends Ghost {\r\n\r\n  \t/**\r\n  \t * Constructor.\r\n  \t */\r\n  \tconstructor(game: PacmanGame) {\r\n  \t\tsuper(game, 1 * PacmanGame.SPRITE_SIZE, 8);\r\n  \t}\r\n\r\n  \treset() {\r\n  \t\tsuper.reset();\r\n  \t\tthis.direction = Direction.SOUTH;\r\n  \t\tthis.setLocation(12 * PacmanGame.TILE_SIZE - PacmanGame.TILE_SIZE / 2 - 4,\r\n        15 * PacmanGame.TILE_SIZE - PacmanGame.TILE_SIZE / 2);\r\n  \t\tthis.motionState = MotionState.IN_BOX;\r\n  \t}\r\n\r\n    updatePositionChasingPacman(maze: Maze) {\r\n\r\n  \t\tlet moveAmount: number = this.moveAmount;\r\n\r\n  \t\tif (this.atIntersection(maze)) { // If the ghost can turn...\r\n\r\n        // Get Blinky's proximity\r\n        let row: number = this.row;\r\n        let col: number = this.column;\r\n        let blinky = game.getGhost(0);\r\n        let blinkyRow: number = blinky.row;\r\n        let blinkyCol: number = blinky.column;\r\n        let distSq: number = (blinkyCol - col) * (blinkyCol - col) +\r\n            (blinkyRow - row) * (blinkyRow - row);\r\n  \t\t\t//console.log(distSq);\r\n\r\n  \t\t\t// If we're close enough to Blinky, chase Pacman.\r\n  \t\t\tif (distSq <= 35) {\r\n  \t\t\t\tlet toRow: number = game.pacman.row;\r\n  \t\t\t\tlet toCol: number = game.pacman.column;\r\n          let node: MazeNode = maze.getPathBreadthFirst(row,col, toRow,toCol);\r\n  \t\t\t\t//console.log(\"... \" + node + \" (\" + row + \",\" + col + \")\");\r\n  \t\t\t\tif (node == null) { // Happens only with \"God Mode\" enabled.\r\n  \t\t\t\t\tthis.changeDirectionFallback(maze);\r\n  \t\t\t\t}\r\n  \t\t\t\telse if (node.col<col) {\r\n            this.direction = Direction.WEST;\r\n  \t\t\t\t\tthis.incX(-moveAmount);\r\n  \t\t\t\t}\r\n  \t\t\t\telse if (node.col>col) {\r\n            this.direction = Direction.EAST;\r\n  \t\t\t\t\tthis.incX(moveAmount);\r\n  \t\t\t\t}\r\n  \t\t\t\telse if (node.row<row) {\r\n            this.direction = Direction.NORTH;\r\n  \t\t\t\t\tthis.incY(-moveAmount);\r\n  \t\t\t\t}\r\n  \t\t\t\telse if (node.row>row) {\r\n            this.direction = Direction.SOUTH;\r\n  \t\t\t\t\tthis.incY(moveAmount);\r\n  \t\t\t\t}\r\n  \t\t\t}\r\n\r\n  \t\t\t// If Blinky is too far away, just pick a random direction.\r\n  \t\t\telse {\r\n  \t\t\t\tthis.changeDirectionFallback(maze);\r\n  \t\t\t}\r\n\r\n  \t\t}\r\n\r\n  \t\t// Not at an intersection, so we should be able to keep going\r\n  \t\t// in our current direction.\r\n  \t\telse {\r\n  \t\t\tthis.continueInCurrentDirection(moveAmount);\r\n  \t\t}\r\n\r\n  \t\t// Switch over to scatter mode if it's time to do so.\r\n  \t\tif (game.playTime >= this.startScatteringTime) {\r\n        this.motionState = MotionState.SCATTERING;\r\n  \t\t}\r\n\r\n  \t}\r\n\r\n  }\r\n}\r\n"],"sourceRoot":"/source/"}