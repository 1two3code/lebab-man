{"version":3,"sources":["pacman/_BaseState.ts"],"names":["pacman","pacman._BaseState","pacman._BaseState.constructor","pacman._BaseState.createScreenshot","pacman._BaseState.inputRepeatMillis","pacman._BaseState.INPUT_REPEAT_MILLIS","pacman._BaseState.handleDefaultKeys"],"mappings":"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","file":"pacman/_BaseState.js","sourcesContent":["module pacman {\r\n\t'use strict';\r\n\r\n\texport class _BaseState extends gtp.State {\r\n\r\n\t\t/**\r\n\t\t * Functionality common amongst all states in this game.\r\n\t\t * @constructor\r\n\t\t */\r\n\t\tconstructor(args?: gtp.Game | gtp.BaseStateArgs) {\r\n\t\t\tsuper(args);\r\n\t\t}\r\n\r\n\t\tcreateScreenshot(): HTMLCanvasElement {\r\n\t\t\tvar canvas = gtp.ImageUtils.createCanvas(game.getWidth(), game.getHeight());\r\n\t\t\tvar ctx = canvas.getContext('2d');\r\n\t\t\tthis.render(ctx);\r\n\t\t\treturn canvas;\r\n\t\t}\r\n\r\n\t\tget inputRepeatMillis(): number {\r\n\t\t\treturn 200; // 0.2 seconds\r\n\t\t}\r\n\r\n\t\tstatic get INPUT_REPEAT_MILLIS(): number {\r\n      return 200;\r\n    }\r\n\t\t\r\n\t\thandleDefaultKeys() {\r\n\r\n\t\t\tvar im = this.game.inputManager;\r\n\r\n\t\t\t// Debugging actions\r\n\t\t\tif (im.shift()) {\r\n\r\n\t\t\t\t// Increase canvas size\r\n\t\t\t\tif (im.isKeyDown(gtp.Keys.KEY_P, true)) {\r\n\t\t\t\t\tif (!game.canvas.style.width) {\r\n\t\t\t\t\t\tgame.canvas.style.width = game.canvas.width + 'px';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!game.canvas.style.height) {\r\n\t\t\t\t\t\tgame.canvas.style.height = game.canvas.height + 'px';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgame.canvas.style.width = (parseInt(game.canvas.style.width.substring(0, game.canvas.style.width.length - 2), 10) + 1) + 'px';\r\n\t\t\t\t\tgame.canvas.style.height = (parseInt(game.canvas.style.height.substring(0, game.canvas.style.height.length - 2), 10) + 1) + 'px';\r\n\t\t\t\t\tgame.setStatusMessage('Canvas size now: (' + game.canvas.style.width + ', ' + game.canvas.style.height + ')');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Decrease canvas size\r\n\t\t\t\telse if (im.isKeyDown(gtp.Keys.KEY_L, true)) {\r\n\t\t\t\t\tif (!game.canvas.style.width) {\r\n\t\t\t\t\t\tgame.canvas.style.width = game.canvas.width + 'px';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!game.canvas.style.height) {\r\n\t\t\t\t\t\tgame.canvas.style.height = game.canvas.height + 'px';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tgame.canvas.style.width = (parseInt(game.canvas.style.width.substring(0, game.canvas.style.width.length - 2), 10) - 1) + 'px';\r\n\t\t\t\t\tgame.canvas.style.height = (parseInt(game.canvas.style.height.substring(0, game.canvas.style.height.length - 2), 10) - 1) + 'px';\r\n\t\t\t\t\tgame.setStatusMessage('Canvas size now: (' + game.canvas.style.width + ', ' + game.canvas.style.height + ')');\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\t// Audio stuff\r\n\t\t\t\telse if (im.isKeyDown(gtp.Keys.KEY_M, true)) {\r\n\t\t\t\t\tgame.toggleMuted();\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n}\r\n"],"sourceRoot":"/source/"}