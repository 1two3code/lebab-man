{"version":3,"sources":["pacman/_BaseState.ts"],"names":["pacman","pacman._BaseState","pacman._BaseState.constructor","pacman._BaseState.createScreenshot","pacman._BaseState.INPUT_REPEAT_MILLIS","pacman._BaseState.handleDefaultKeys"],"mappings":"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","file":"pacman/_BaseState.js","sourcesContent":["module pacman {\r\n\t'use strict';\r\n\r\n\texport class _BaseState extends gtp.State {\r\n\r\n\t\tprivate _lastConfigKeypressTime: number;\r\n\r\n\t\t/**\r\n\t\t * Functionality common amongst all states in this game.\r\n\t\t * @constructor\r\n\t\t */\r\n\t\tconstructor(args?: gtp.Game | gtp.BaseStateArgs) {\r\n\t\t\tsuper(args);\r\n\t\t}\r\n\r\n\t\tcreateScreenshot(): HTMLCanvasElement {\r\n\t\t\tconst canvas: HTMLCanvasElement = gtp.ImageUtils.createCanvas(\r\n\t\t\t\tgame.getWidth(), game.getHeight());\r\n\t\t\tconst ctx: CanvasRenderingContext2D = canvas.getContext('2d');\r\n\t\t\tthis.render(ctx);\r\n\t\t\treturn canvas;\r\n\t\t}\r\n\r\n\t\tstatic get INPUT_REPEAT_MILLIS(): number {\r\n      return 200;\r\n    }\r\n\r\n\t\thandleDefaultKeys(time?: number) {\r\n\r\n\t\t\ttime = time || this.game.playTime;\r\n\t\t\tconst im: gtp.InputManager = this.game.inputManager;\r\n\r\n\t\t\tif (time > (this._lastConfigKeypressTime + _BaseState.INPUT_REPEAT_MILLIS)) {\r\n\r\n\t\t\t\t// Debugging actions\r\n\t\t\t\tif (im.shift()) {\r\n\r\n\t\t\t\t\t// Increase canvas size\r\n\t\t\t\t\tif (im.isKeyDown(gtp.Keys.KEY_P, true)) {\r\n\t\t\t\t\t\tif (!game.canvas.style.width) {\r\n\t\t\t\t\t\t\tgame.canvas.style.width = game.canvas.width + 'px';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!game.canvas.style.height) {\r\n\t\t\t\t\t\t\tgame.canvas.style.height = game.canvas.height + 'px';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tgame.canvas.style.width = (parseInt(game.canvas.style.width.substring(0, game.canvas.style.width.length - 2), 10) + 1) + 'px';\r\n\t\t\t\t\t\tgame.canvas.style.height = (parseInt(game.canvas.style.height.substring(0, game.canvas.style.height.length - 2), 10) + 1) + 'px';\r\n\t\t\t\t\t\tgame.setStatusMessage('Canvas size now: (' + game.canvas.style.width + ', ' + game.canvas.style.height + ')');\r\n\t\t\t\t\t\tthis._lastConfigKeypressTime = time;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Decrease canvas size\r\n\t\t\t\t\telse if (im.isKeyDown(gtp.Keys.KEY_L, true)) {\r\n\t\t\t\t\t\tif (!game.canvas.style.width) {\r\n\t\t\t\t\t\t\tgame.canvas.style.width = game.canvas.width + 'px';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!game.canvas.style.height) {\r\n\t\t\t\t\t\t\tgame.canvas.style.height = game.canvas.height + 'px';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tgame.canvas.style.width = (parseInt(game.canvas.style.width.substring(0, game.canvas.style.width.length - 2), 10) - 1) + 'px';\r\n\t\t\t\t\t\tgame.canvas.style.height = (parseInt(game.canvas.style.height.substring(0, game.canvas.style.height.length - 2), 10) - 1) + 'px';\r\n\t\t\t\t\t\tgame.setStatusMessage('Canvas size now: (' + game.canvas.style.width + ', ' + game.canvas.style.height + ')');\r\n\t\t\t\t\t\tthis._lastConfigKeypressTime = time;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Audio stuff\r\n\t\t\t\t\telse if (im.isKeyDown(gtp.Keys.KEY_M, true)) {\r\n\t\t\t\t\t\tgame.toggleMuted();\r\n\t\t\t\t\t\tthis._lastConfigKeypressTime = time;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telse if (im.isKeyDown(gtp.Keys.KEY_G, true)) {\r\n\t\t\t\t\t\tgame.toggleGodMode();\r\n\t\t\t\t\t\tthis._lastConfigKeypressTime = time;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n}\r\n"],"sourceRoot":"/source/"}